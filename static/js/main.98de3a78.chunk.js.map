{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css","App.module.css"],"names":["module","exports","Searchbar","state","name","changeHandler","e","setState","target","value","submitHandler","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","modal","document","querySelector","Modal","closeModal","nodeName","code","toggle","addEventListener","removeEventListener","alt","src","createPortal","Overlay","onClick","ImageGalleryItem","isModal","modalToggle","webformatURL","tags","largeImageURL","ImageGalleryItemImage","ImadeGallery","query","ImageGallery","map","Button","increment","LoaderSection","Loader","color","height","width","App","page","message","status","nameChange","a","resetPage","searchName","then","addRequest","incrementPage","prevProps","prevState","window","scrollTo","top","documentElement","scrollHeight","behavior","fetch","r","json","data","hits","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.98de3a78.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3jDl8\",\"Modal\":\"Modal_Modal__aazf9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__rNZA6\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__TYkwj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3lFho\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1iZLE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1vU6D\"};","import React, { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  changeHandler = (e) => {\r\n    this.setState(() => ({\r\n      name: e.target.value,\r\n    }));\r\n  };\r\n\r\n  submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.name);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.submitHandler}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.changeHandler}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modal = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this.closeModal);\r\n  }\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"keydown\", this.closeModal);\r\n  }\r\n\r\n  closeModal = (e) => {\r\n    if (e.target.nodeName !== \"DIV\" && e.code !== \"Escape\") {\r\n      return;\r\n    }\r\n    this.props.toggle();\r\n  };\r\n\r\n  render() {\r\n    const { alt, src } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.closeModal}>\r\n        <div className={s.Modal}>\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modal\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    isModal: false,\r\n  };\r\n\r\n  modalToggle = () => {\r\n    const { isModal } = this.state;\r\n    this.setState({ isModal: !isModal });\r\n  };\r\n  render() {\r\n    const { isModal } = this.state;\r\n    const { webformatURL, tags, largeImageURL } = this.props;\r\n    return (\r\n      <li className={s.ImageGalleryItem}>\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className={s.ImageGalleryItemImage}\r\n          onClick={this.modalToggle}\r\n        />\r\n        {isModal && (\r\n          <Modal\r\n            src={largeImageURL}\r\n            alt={tags}\r\n            toggle={this.modalToggle}\r\n          ></Modal>\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport default function ImadeGallery({ query }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {query.map(({ tags, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          tags={tags}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          key={webformatURL}\r\n        ></ImageGalleryItem>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import s from \"./Button.module.css\";\r\n\r\nexport default function Button({ increment }) {\r\n  return (\r\n    <button type=\"submit\" className={s.Button} onClick={increment}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import Loader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nfunction LoaderSection() {\r\n  return (\r\n    <div>\r\n      <Loader\r\n        className={s.Loader}\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={40}\r\n        width={40}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoaderSection;\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImadeGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Loader from \"./components/Loader/Loader\";\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    name: \"\",\n    query: [],\n    page: 1,\n    message: \"\",\n    status: \"idle\",\n  };\n\n  incrementPage() {\n    this.setState(() => ({ page: this.state.page + 1 }));\n  }\n\n  resetPage() {\n    this.setState({ page: 1 });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.query !== prevState.query && this.state.page !== 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  nameChange = async (name) => {\n    await this.setState({ name, query: [], status: \"pending\" });\n    this.resetPage();\n\n    this.searchName().then(() => {\n      if (this.state.message) {\n        this.setState({ status: \"rejected\" });\n        return;\n      }\n      this.setState({ status: \"resolved\" });\n    });\n  };\n\n  addRequest = async () => {\n    await this.setState({ status: \"pending\" });\n    await this.incrementPage();\n\n    this.searchName().then(() => {\n      this.setState({ status: \"resolved\" });\n    });\n  };\n\n  searchName() {\n    this.setState({ message: \"\" });\n    return fetch(\n      `https://pixabay.com/api/?q=${this.state.name}&page=${this.state.page}&key=19045968-692e1124089d7d7c1e82b7642&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((r) => r.json())\n      .then((data) => {\n        if (data.hits.length === 0 && this.state.page === 1) {\n          this.setState({ message: \"Упс... Такого у нас нет\" });\n          return;\n        }\n\n        if (\n          data.hits.length >= 0 &&\n          data.hits.length < 12 &&\n          this.state.page > 1\n        ) {\n          this.setState({\n            message: \"Вы посмотрели слишком много, всё закончилось\",\n          });\n        }\n\n        this.setState(() => ({\n          query: [...this.state.query, ...data.hits],\n        }));\n      });\n  }\n\n  render() {\n    const { status, message } = this.state;\n\n    if (status === \"idle\") {\n      return (\n        <div className={s.App}>\n          <Searchbar onSubmit={this.nameChange}></Searchbar>\n        </div>\n      );\n    }\n\n    if (status === \"pending\") {\n      return (\n        <div className={s.App}>\n          <Searchbar onSubmit={this.nameChange}></Searchbar>\n          <ImadeGallery query={this.state.query}></ImadeGallery>\n          <Loader></Loader>\n        </div>\n      );\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <div className={s.App}>\n          <Searchbar onSubmit={this.nameChange}></Searchbar>\n          <ImadeGallery query={this.state.query}></ImadeGallery>\n          {message ? message : <Button increment={this.addRequest}></Button>}\n        </div>\n      );\n    }\n\n    if (status === \"rejected\") {\n      return (\n        <div className={s.App}>\n          <Searchbar onSubmit={this.nameChange}></Searchbar>\n          <div>{message}</div>\n        </div>\n      );\n    }\n\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.nameChange}></Searchbar>\n        Упс... Что-то пошло не по плану\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2C5Fx\",\"SearchForm\":\"Searchbar_SearchForm__2KapI\",\"SearchFormButton\":\"Searchbar_SearchFormButton__10sM0\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2pPkO\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3KImf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1cfrz\"};"],"sourceRoot":""}