(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{18:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),s=a(11),o=a.n(s),i=(a(18),a(10)),u=a(3),l=a.n(u),h=a(8),m=a(4),b=a(5),d=a(7),j=a(6),p=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e.changeHandler=function(t){e.setState((function(){return{name:t.target.value}}))},e.submitHandler=function(t){t.preventDefault(),e.props.onSubmit(e.state.name)},e}return Object(b.a)(a,[{key:"render",value:function(){return Object(n.jsx)("header",{className:"Searchbar",children:Object(n.jsxs)("form",{className:"SearchForm",onSubmit:this.submitHandler,children:[Object(n.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(n.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(n.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.changeHandler})]})})}}]),a}(r.Component);function f(e){var t=e.webformatURL,a=e.tags;return Object(n.jsx)("li",{className:"ImageGalleryItem",children:Object(n.jsx)("img",{src:t,alt:a,className:"ImageGalleryItem-image"})})}function g(e){var t=e.query;return Object(n.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.tags,a=e.webformatURL;return Object(n.jsx)(f,{tags:t,webformatURL:a},a)}))})}function v(e){var t=e.increment;return Object(n.jsx)("button",{type:"submit",className:"Button",onClick:t,children:"Load more"})}var O=a(12),x=a.n(O);a(41);var y=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(x.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})})},w=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",query:[],page:1,loader:!1},e.nameChange=function(){var t=Object(h.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loaderToggle();case 2:return t.next=4,e.setState({name:a});case 4:e.resetPage(),e.searchName().then((function(){e.loaderToggle()}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addRequest=Object(h.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loaderToggle();case 2:return t.next=4,e.incrementPage();case 4:e.searchName().then(Object(h.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loaderToggle();case 2:case"end":return t.stop()}}),t)}))));case 5:case"end":return t.stop()}}),t)}))),e}return Object(b.a)(a,[{key:"incrementPage",value:function(){var e=this;this.setState((function(){return{page:e.state.page+1}}))}},{key:"resetPage",value:function(){this.setState({page:1})}},{key:"componentDidUpdate",value:function(e,t){this.state.page!==t.page&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"loaderToggle",value:function(){this.setState({loader:!this.state.loader})}},{key:"searchName",value:function(){var e=this;return fetch("https://pixabay.com/api/?q=".concat(this.state.name,"&page=").concat(this.state.page,"&key=19045968-692e1124089d7d7c1e82b7642&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(t){e.setState((function(){return{query:[].concat(Object(i.a)(e.state.query),Object(i.a)(t.hits))}}))}))}},{key:"render",value:function(){var e=this.state.loader;return Object(n.jsxs)("div",{children:[Object(n.jsx)(p,{onSubmit:this.nameChange}),this.state.query&&Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{query:this.state.query}),e&&Object(n.jsx)(y,{}),Object(n.jsx)(v,{increment:this.addRequest})]})]})}}]),a}(r.Component);o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.f28f65c2.chunk.js.map